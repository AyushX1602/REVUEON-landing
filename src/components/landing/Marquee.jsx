import React, { useRef } from 'react';
import { useGSAP } from '@gsap/react';
import gsap from 'gsap';

const Marquee = () => {
  const containerRef = useRef(null);
  const scrollerRef = useRef(null);

  // Professional brand logos as SVG components
  const brands = [
    {
      name: "Shopify",
      logo: (
        <svg className="h-8 w-auto" viewBox="0 0 109 40" fill="currentColor">
          <path d="M25.9 7.5c-.1 0-.2.1-.3.1-.1 0-1.2.2-1.2.2s-.8-.8-1.1-1.1c-.1-.1-.2-.1-.3-.1v0l-.2 34.7 12.1-2.6S27.2 8 27.1 7.7c-.1-.1-.2-.2-.4-.2-.1 0-.3 0-.4 0-.1 0-.2 0-.4 0zm-.2-2.8c-.3-.3-.7-.4-1.2-.4-.2 0-.5 0-.8.1-.5.1-1 .3-1.5.5-.6.3-1.1.7-1.7 1.2-.4.4-.8.9-1.1 1.4l-.1.2-1.2-.3c-.1 0-.1 0-.1-.1V7l-.1-.3v-.2c0-.1 0-.1-.1-.2 0 0 0-.1-.1-.1v-.1c-.1-.1-.1-.2-.2-.3-.1-.1-.2-.2-.3-.2-.2-.1-.4-.2-.6-.2s-.4 0-.6.1c-.3.1-.6.2-.9.4-.4.3-.7.6-.9 1-.3.5-.5 1-.6 1.5-.2.8-.3 1.6-.3 2.5 0 .8.1 1.6.3 2.4l.1.2-2.6.6c-.4.1-.6.3-.6.7 0 .1 0 .3 0 .5l2.1 13.5c.1.3.3.5.6.5l.3-.1 10.2-2.2c.3-.1.5-.3.5-.6l.1-21.7zM18.9 12c0-.4.1-.9.2-1.3.1-.3.2-.6.4-.8.1-.2.3-.4.5-.5.1-.1.2-.1.3-.2l.7 4.5-2.1.5c0-.7 0-1.5 0-2.2zm3.6-3.5c-.3.3-.5.7-.7 1.1-.3.6-.4 1.3-.5 2 0 .4-.1.9-.1 1.4 0 .5 0 1 .1 1.5l.7 4.4-4 .9-.9-6c-.1-.5-.1-1-.1-1.5 0-.7.1-1.3.2-2 .2-.5.4-1 .7-1.4.3-.4.6-.7 1-1 .4-.2.8-.4 1.2-.4.5 0 .9.1 1.2.4.4.2.6.5.8.8.2.3.3.6.4.9v.9z"/>
          <path d="M40.5 24.5c-1.1-.6-1.7-1.1-1.7-1.8 0-.9.8-1.4 2-1.4 1.5 0 2.8.6 2.8.6l1-3.1s-1-.8-3.7-.8c-3.9 0-6.5 2.2-6.5 5.4 0 1.8 1.3 3.2 3 4.2 1.4.8 1.9 1.3 1.9 2.1 0 .8-.7 1.5-1.9 1.5-1.8 0-3.5-.9-3.5-.9l-1.1 3.1s1.6 1.1 4.2 1.1c4 0 6.8-2 6.8-5.5.1-1.9-1.5-3.3-3.3-4.5zm11.3-7.2c-2 0-3.5.9-4.7 2.3l-.1-.1 1.7-8.7h-4.4l-4.3 22.6h4.4l1.5-7.8c.6-3 2.1-4.9 3.5-4.9 1 0 1.4.7 1.4 1.7 0 .6-.1 1.4-.2 2l-1.7 9h4.4l1.8-9.3c.2-.9.3-1.9.3-2.6-.1-2.5-1.3-4.2-3.6-4.2zm14.2 0c-5.3 0-8.8 4.8-8.8 10.1 0 3.4 2.1 6.2 6.1 6.2 5.2 0 8.7-4.7 8.7-10.1 0-3.1-1.8-6.2-6-6.2zm-2 12.9c-1.5 0-2.2-1.3-2.2-2.9 0-2.6 1.3-6.6 3.7-6.6 1.6 0 2.1 1.4 2.1 2.7.1 2.8-1.3 6.8-3.6 6.8zm18.2-12.9c-3 0-4.7 2.7-4.7 2.7h-.1l.3-2.4h-3.9c-.2 2-.7 5-1.1 7.3l-3.1 16.1h4.4l1.2-6.6h.1s.9.6 2.6.6c5.2 0 8.5-5.3 8.5-10.6 0-3-1.3-7.1-4.2-7.1zm-4 13.1c-1.2 0-1.8-.7-1.8-.7l.7-4c.5-2.8 2-4.6 3.5-4.6 1.3 0 1.8 1.3 1.8 2.5-.1 3-1.9 6.8-4.2 6.8zm12.1-17.1c-1.4 0-2.5 1.1-2.5 2.6 0 1.3.9 2.2 2.1 2.2h.1c1.4 0 2.5-1 2.5-2.6 0-1.3-.9-2.2-2.2-2.2zm-5 20.1h4.4l3-15.7h-4.4l-3 15.7zm14.3-15.9c-2.1 0-3.9.9-5.3 2.2l.7-3.3.4-2.2c.2-.7-.2-1.2-.8-1.2h-3.2c-.5 0-.9.3-1 .8l-4.4 22.5c-.1.5.2 1 .7 1.1h3.6c.4 0 .7-.2.9-.6l1.6-8.4c.5-2.4 1.9-4.3 3.3-4.3.8 0 1.3.4 1.3 1.4 0 .5-.1 1.2-.2 1.8l-1.6 9c-.2.7.2 1.2.8 1.2h3.5c.5 0 .9-.3 1-.8l1.8-9.7c.2-.9.4-2 .4-2.8-.2-2.8-1.4-4.7-3.5-4.7zm16.4.2h-3.1l.1-.7c.3-1.5 1.1-2.9 2.6-2.9.8 0 1.4.2 1.4.2l.9-3.5s-.8-.4-2.4-.4c-1.6 0-3.1.5-4.3 1.4-1.5 1.2-2.2 2.9-2.5 4.6l-.1.6h-2.1l-.6 3.3h2.1l-2.4 12.4h4.4l2.4-12.4h3l.6-3.3z"/>
        </svg>
      )
    },
    {
      name: "Stripe",
      logo: (
        <svg className="h-8 w-auto" viewBox="0 0 60 25" fill="currentColor">
          <path d="M59.64 14.28h-8.06c.19 1.93 1.6 2.55 3.2 2.55 1.64 0 2.96-.37 4.05-.95v3.32a8.33 8.33 0 0 1-4.56 1.1c-4.01 0-6.83-2.5-6.83-7.48 0-4.19 2.39-7.52 6.3-7.52 3.92 0 5.96 3.28 5.96 7.5 0 .4-.04 1.26-.06 1.48zm-5.92-5.62c-1.03 0-2.17.73-2.17 2.58h4.25c0-1.85-1.07-2.58-2.08-2.58zM40.95 20.3c-1.44 0-2.32-.6-2.9-1.04l-.02 4.63-4.12.87V5.57h3.76l.1 1.03a4.35 4.35 0 0 1 3.36-1.3c3.04 0 5.5 2.57 5.5 7.1 0 5.27-2.65 7.9-5.68 7.9zm-.79-11.11c-1.03 0-1.62.37-2.03.8l.03 6.78c.38.43.96.8 2 .8 1.54 0 2.55-1.68 2.55-4.16 0-2.48-1.03-4.22-2.55-4.22zM28.24 5.57h4.13v14.44h-4.13V5.57zm0-5.06L32.37 0v3.36l-4.13.88V.51zm-4.69 9.47c0-.72-.3-.95-1.05-.95-.84 0-1.84.57-2.84 1.27l-.01-3.52c.97-.57 2.52-1.21 4.45-1.21 2.75 0 4.22 1.23 4.22 4.18v10.26h-3.75l-.1-1.04c-.83.74-1.84 1.27-3.3 1.27-2.07 0-3.88-1.28-3.88-3.9 0-3.06 2.56-4.27 6.26-4.74v-.62zm0 3c-1.68.29-2.65.86-2.65 1.93 0 .72.5 1.23 1.35 1.23.74 0 1.3-.35 1.3-.35v-2.8zM9.48 17.9c.93 0 2.06-.32 2.98-.85v3.44c-.95.46-2.23.81-3.88.81C4.67 21.3 2.74 19.22 2.74 15V9.32L0 9.84V6.62l2.74-.63V2.34l4.12-.88v4.53h3.62v3.33h-3.62v5.6c0 1.64.73 2.98 2.62 2.98z"/>
        </svg>
      )
    },
    {
      name: "Notion",
      logo: (
        <svg className="h-7 w-auto" viewBox="0 0 100 25" fill="currentColor">
          <path d="M2.88 2.54l14.2-.95c1.75-.15 2.2-.05 3.3.7l4.55 3.2c.75.55.95.7.95 1.3v15c0 1-.35 1.55-1.6 1.65l-16.3.95c-.95.05-1.4-.1-1.9-.7l-3.1-4.05c-.55-.7-.8-1.2-.8-1.8V4.09c0-.75.35-1.45 1.3-1.55h-.6zM17.18 6.3c.15.55.1 1.1.1 2.7v9.9c0 .6-.1.8-.4.8l-9.9.55c-.3.05-.45-.1-.45-.35V7.9c0-.3.1-.5.4-.55l9.85-.6c.15 0 .35.25.4.55zM80.28 5.29c1.75-.15 2.2-.05 3.3.7l4.55 3.2c.75.55.95.7.95 1.3v15c0 1-.35 1.55-1.6 1.65l-16.3.95c-.95.05-1.4-.1-1.9-.7l-3.1-4.05c-.55-.7-.8-1.2-.8-1.8V8.79c0-.75.35-1.45 1.3-1.55l13.6-1.95zM94.48 9.04c.15.55.1 1.1.1 2.7v9.9c0 .6-.1.8-.4.8l-9.9.55c-.3.05-.45-.1-.45-.35V10.64c0-.3.1-.5.4-.55l9.85-.6c.15 0 .35.25.4.55zM31.28 7.04l7.4-.45v1.55l-7.4.5v-1.6zM31.28 10.74l7.4-.45v10.35l-7.4.55V10.74zM46.68 6.44c2.2-.15 3.35.65 3.85 1.95.55 1.45.35 3.55-.75 4.65-.85.85-2.1 1.1-3.2 1.15l3.75 6.15-2.05.15-3.55-6.1-.8.05v6.35l-1.85.1V6.59l4.6-.15zm-2.75 6.05l2.55-.15c.85-.05 1.55-.35 1.85-.9.35-.6.35-1.55.05-2.1-.3-.55-.95-.85-1.95-.8l-2.5.15v3.8zM56.28 13.79c-.05 2.1 1.05 3.15 2.85 3.05 1.3-.05 2.15-.5 2.95-1.1l.75 1.15c-.95.75-2.2 1.3-3.85 1.4-2.7.15-4.6-1.45-4.55-4.5.05-2.95 2-4.85 4.45-5 2.6-.15 4.1 1.65 3.9 4.7l-6.5.3zm4.65-1.4c.05-1.6-.75-2.55-2.15-2.45-1.3.1-2.3 1.05-2.45 2.65l4.6-.2z"/>
        </svg>
      )
    },
    {
      name: "Vercel",
      logo: (
        <svg className="h-6 w-auto" viewBox="0 0 76 18" fill="currentColor">
          <path d="M37.55 15.5L31 3h3.5l4.65 9.27L43.8 3h3.4l-6.55 12.5h-3.1zM49.12 15.5V5.7h3.1v1.5c.75-1.15 1.9-1.75 3.45-1.75 1.4 0 2.5.45 3.3 1.35.8.9 1.2 2.2 1.2 3.9v4.8h-3.1v-4.4c0-1-.2-1.75-.6-2.25-.4-.5-1-.75-1.8-.75-.85 0-1.5.3-1.95.9-.45.6-.7 1.45-.7 2.55v3.95h-2.9zM63.02 15.5V5.7h3.1v9.8h-3.1zm1.55-11.25c-.55 0-1-.17-1.35-.5a1.65 1.65 0 0 1-.5-1.2c0-.5.17-.9.5-1.2.35-.33.8-.5 1.35-.5s1 .17 1.35.5c.35.3.52.7.52 1.2 0 .47-.17.87-.52 1.2-.35.33-.8.5-1.35.5zM68.82 15.5V3h3.1v12.5h-3.1zM11.45 3L0 21.5h22.9L11.45 3z"/>
        </svg>
      )
    },
    {
      name: "Linear",
      logo: (
        <svg className="h-6 w-auto" viewBox="0 0 100 20" fill="currentColor">
          <path d="M0 16.5V3.5h2.7v10.7h6.7v2.3H0zM11.5 16.5V3.5h2.7v13h-2.7zM17.1 16.5V3.5h2.6l6.6 8.7V3.5h2.6v13H26l-6.4-8.5v8.5h-2.5zM31.3 16.5V3.5h9.8v2.3h-7.1v3h6.3v2.2h-6.3v3.2h7.3v2.3h-10zM43.7 16.5h-2.9l5.3-13h2.8l5.3 13h-2.9l-1.1-2.8h-5.4l-1.1 2.8zm4.8-11.2l-1.9 5.2h3.9l-2-5.2zM55.9 16.5V3.5h6.1c1.5 0 2.7.4 3.5 1.1.8.8 1.2 1.8 1.2 3.1 0 1.3-.4 2.3-1.2 3.1-.8.8-2 1.1-3.5 1.1h-3.4v4.6h-2.7zm2.7-7h3.2c.7 0 1.3-.2 1.7-.5.4-.4.6-.9.6-1.5 0-.7-.2-1.2-.6-1.6-.4-.4-1-.5-1.7-.5h-3.2V9.5z"/>
        </svg>
      )
    },
    {
      name: "Figma",
      logo: (
        <svg className="h-7 w-auto" viewBox="0 0 38 57" fill="currentColor">
          <path d="M19 28.5a9.5 9.5 0 1 1 19 0 9.5 9.5 0 0 1-19 0z"/>
          <path d="M0 47.5A9.5 9.5 0 0 1 9.5 38H19v9.5a9.5 9.5 0 1 1-19 0z"/>
          <path d="M19 0v19h9.5a9.5 9.5 0 1 0 0-19H19z"/>
          <path d="M0 9.5A9.5 9.5 0 0 0 9.5 19H19V0H9.5A9.5 9.5 0 0 0 0 9.5z"/>
          <path d="M0 28.5A9.5 9.5 0 0 0 9.5 38H19V19H9.5A9.5 9.5 0 0 0 0 28.5z"/>
        </svg>
      )
    },
    {
      name: "Slack",
      logo: (
        <svg className="h-7 w-auto" viewBox="0 0 54 54" fill="currentColor">
          <path d="M19.7 0a5.4 5.4 0 0 0 0 10.8h5.4V5.4A5.4 5.4 0 0 0 19.7 0m0 14.4H5.4a5.4 5.4 0 1 0 0 10.8h14.3a5.4 5.4 0 0 0 0-10.8"/>
          <path d="M54 19.7a5.4 5.4 0 0 0-10.8 0v5.4h5.4a5.4 5.4 0 0 0 5.4-5.4m-14.4 0V5.4a5.4 5.4 0 1 0-10.8 0v14.3a5.4 5.4 0 0 0 10.8 0"/>
          <path d="M34.2 54a5.4 5.4 0 0 0 0-10.8h-5.4v5.4a5.4 5.4 0 0 0 5.4 5.4m0-14.4h14.3a5.4 5.4 0 1 0 0-10.8H34.2a5.4 5.4 0 0 0 0 10.8"/>
          <path d="M0 34.2a5.4 5.4 0 0 0 10.8 0v-5.4H5.4A5.4 5.4 0 0 0 0 34.2m14.4 0v14.3a5.4 5.4 0 1 0 10.8 0V34.2a5.4 5.4 0 0 0-10.8 0"/>
        </svg>
      )
    },
    {
      name: "GitHub",
      logo: (
        <svg className="h-7 w-auto" viewBox="0 0 98 96" fill="currentColor">
          <path d="M48.85 0C21.84 0 0 22 0 49.22c0 21.76 13.99 40.2 33.4 46.73 2.44.46 3.33-1.07 3.33-2.37 0-1.17-.04-4.26-.06-8.36-13.59 2.98-16.45-6.63-16.45-6.63-2.22-5.7-5.42-7.21-5.42-7.21-4.43-3.06.33-3 .33-3 4.9.35 7.48 5.09 7.48 5.09 4.35 7.52 11.42 5.35 14.2 4.09.44-3.18 1.7-5.35 3.1-6.58-10.84-1.24-22.24-5.48-22.24-24.38 0-5.39 1.9-9.78 5.02-13.24-.5-1.24-2.18-6.26.48-13.05 0 0 4.1-1.33 13.43 5.05a46.35 46.35 0 0 1 12.21-1.66c4.14.02 8.31.57 12.21 1.66 9.32-6.38 13.41-5.05 13.41-5.05 2.67 6.79.99 11.81.49 13.05 3.13 3.46 5.01 7.85 5.01 13.24 0 18.95-11.42 23.12-22.3 24.34 1.75 1.53 3.31 4.54 3.31 9.15 0 6.6-.06 11.93-.06 13.55 0 1.31.88 2.85 3.35 2.37C84.03 89.4 98 70.96 98 49.22 98 22 76.13 0 48.85 0z"/>
        </svg>
      )
    }
  ];

  // Double the brands for seamless infinite scroll
  const allBrands = [...brands, ...brands];

  useGSAP(() => {
    if (!scrollerRef.current) return;

    // Start scrolling animation immediately
    gsap.to(scrollerRef.current, {
      x: "-50%",
      duration: 35,
      ease: "none",
      repeat: -1,
    });
  }, { scope: containerRef });

  return (
    <section ref={containerRef} className="relative py-16 bg-white overflow-hidden border-b border-gray-100 z-10">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-10 text-center">
        <p className="text-sm font-medium text-[#47423D]/50 uppercase tracking-widest">
          Trusted by 10,000+ teams worldwide
        </p>
      </div>
      
      <div className="relative w-full overflow-hidden">
        <div 
          ref={scrollerRef}
          className="flex w-max gap-20 items-center"
        >
          {allBrands.map((brand, idx) => (
            <div 
              key={idx} 
              className="text-[#47423D]/25 hover:text-[#47423D]/60 transition-all duration-300 cursor-default flex-shrink-0"
              title={brand.name}
            >
              {brand.logo}
            </div>
          ))}
        </div>
        
        {/* Gradient Masks */}
        <div className="absolute top-0 left-0 w-40 h-full bg-gradient-to-r from-white via-white/80 to-transparent pointer-events-none z-10" />
        <div className="absolute top-0 right-0 w-40 h-full bg-gradient-to-l from-white via-white/80 to-transparent pointer-events-none z-10" />
      </div>
    </section>
  );
};

export default Marquee;
